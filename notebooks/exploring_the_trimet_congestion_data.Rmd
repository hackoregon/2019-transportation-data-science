---
title: "Exploring the TriMet Congestion Data"
author: "M. Edward (Ed) Borasky"
output: html_notebook
---

## Load the data
```{r}
library(tidyverse)
passenger_census <- read_csv(
  "../data/raw/passenger_census.csv",
  col_types = cols(
    SUMMARY_BEGIN_DATE = col_date(format = "%d-%b-%y")
  )
)

trimet_stop_event <- read_csv(
  "../data/interim/trimet_stop_event.csv",
  col_types = cols(
    pattern_distance = col_double(),
    service_date = col_datetime(format = "%d%b%Y:%H:%M:%S"),
    vehicle_number = col_integer()
  )
)
colnames(trimet_stop_event) <- toupper(colnames(trimet_stop_event))
trimet_stop_event %>% 
  filter(!is.na(SERVICE_KEY)) %>% 
  arrange(
    SERVICE_DATE,
    ROUTE_NUMBER,
    ARRIVE_TIME
  ) ->
  trimet_stop_detail
rm(trimet_stop_event)
gc()
```

